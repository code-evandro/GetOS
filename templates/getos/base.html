{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}GetOS{% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap 5 -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    >

    <!-- Bootstrap Icons -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
    >

    <!-- CSS Global -->
    <link rel="stylesheet" href="{% static 'css/style.css' %}">

    {% block extra_css %}{% endblock %}
</head>
<body class="app-dark">

<div class="app-wrapper">
    <!-- SIDEBAR -->
    <aside class="app-sidebar" id="sidebar">

        <!-- LOGO PRINCIPAL -->
        <div class="brand py-4">
            <img src="{% static 'imgs/new_logo.png' %}"
                 alt="Logo GetOS"
                 class="sidebar-logo-big">
        </div>
        

        <div class="sidebar-menu">
            <div class="sidebar-section-title">Principal</div>

            <a href="{% url 'menu' %}"
               class="nav-link {% block menu_home_active %}{% endblock %}">
                <i class="bi bi-grid-1x2"></i>
                <span>Menu principal</span>
            </a>

            <div class="sidebar-section-title">Ordens de Serviço</div>

            <a href="{% url 'abrir_os' %}"
               class="nav-link {% block menu_abrir_os_active %}{% endblock %}">
                <i class="bi bi-plus-square"></i>
                <span>Abrir OS</span>
            </a>

            <a href="{% url 'visualizar_os' %}"
               class="nav-link {% block menu_visualizar_os_active %}{% endblock %}">
                <i class="bi bi-card-checklist"></i>
                <span>Visualizar OS</span>
            </a>

            <div class="sidebar-section-title">Cadastros</div>

            <!-- Grupo Servidores -->
            <div class="sidebar-group">
                <button class="nav-link sidebar-parent" type="button"
                        data-bs-toggle="collapse"
                        data-bs-target="#submenu-serv"
                        aria-expanded="false">
                    <i class="bi bi-people"></i>
                    <span>Servidores</span>
                    <i class="bi bi-chevron-down ms-auto small"></i>
                </button>
                <div class="collapse {% block submenu_serv_open %}{% endblock %}" id="submenu-serv">
                    <a href="{% url 'cad_servidor' %}"
                       class="nav-link nav-sublink {% block menu_cad_servidor_active %}{% endblock %}">
                        Cadastrar
                    </a>
                    <a href="{% url 'listar_servidores' %}"
                       class="nav-link nav-sublink {% block menu_listar_servidores_active %}{% endblock %}">
                        Listar
                    </a>
                </div>
            </div>

            <!-- Grupo Setores -->
            <div class="sidebar-group mt-1">
                <button class="nav-link sidebar-parent" type="button"
                        data-bs-toggle="collapse"
                        data-bs-target="#submenu-setores"
                        aria-expanded="false">
                    <i class="bi bi-diagram-3"></i>
                    <span>Setores</span>
                    <i class="bi bi-chevron-down ms-auto small"></i>
                </button>
                <div class="collapse {% block submenu_setor_open %}{% endblock %}" id="submenu-setores">
                    <a href="{% url 'cad_setor' %}"
                       class="nav-link nav-sublink {% block menu_cad_setor_active %}{% endblock %}">
                        Cadastrar
                    </a>
                    <a href="{% url 'listar_setores' %}"
                       class="nav-link nav-sublink {% block menu_listar_setores_active %}{% endblock %}">
                        Listar
                    </a>
                </div>
            </div>

            <div class="sidebar-section-title">Análises</div>

            <a href="{% url 'dashboard' %}"
               class="nav-link {% block menu_dashboard_active %}{% endblock %}">
                <i class="bi bi-bar-chart-line"></i>
                <span>Dashboard</span>
            </a>
        </div>

        <a href="{% url 'logout_redirect' %}" class="nav-link logout mt-3">
            <i class="bi bi-box-arrow-right"></i>
            <span>Sair</span>
        </a>
    </aside>

    <!-- ÁREA PRINCIPAL -->
    <div class="app-main">

        <!-- Topbar -->
        <header class="app-topbar">
            <div class="topbar-title">
                {% block topbar_title %}Secretaria de Finanças · TI{% endblock %}
            </div>
            <div class="topbar-user">
                {% if user.is_authenticated %}
                    Logado como <strong>{{ user.username }}</strong>
                {% endif %}
            </div>
        </header>

        <main class="app-content">
            {% block content %}{% endblock %}
        </main>
    </div>
</div>

<script
  src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
  crossorigin="anonymous">
</script>

{% block extra_js %}{% endblock %}
</body>
</html>
